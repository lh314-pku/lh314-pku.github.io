# Two-View Stereo双目立体

双目立体：

- 输入：一组立体图像对，即通过两个相机（已标定）从不同视角拍摄的图像。

- 输出：Dense Depth Map，稠密深度图， 即对输入图像中每个像素都估计其到相机的深度距离。

## Basic Stereo Matching Algorithm 基本立体匹配算法

使用一对校准过的摄像头，我们可以通过以下方式重建三维信息：

- **对应关系** (Correspondence) + **三角测量** (Triangulation)

对第一张图像中的每一个像素：

- 在右图中找到对应的**极线** (Epipolar line)

- 检查该极线上的所有像素，找到最佳匹配

- 对匹配的点进行三角测量以获取深度信息

### 简单立体系统：

- 对极线 = 对应扫描线

- 相机的图像平面彼此平行且与基线平行

- 相机中心在同一高度，焦距相同（也就是相机左右平移得到）

- 对极线沿图像的水平扫描线分布

考虑其[本质矩阵](https://lh314-pku.github.io/notes/CV/Lecture07#2-本质矩阵)：$x'^TEx=0$，有 $E=[t_{\times}]R$。

由于相机之间没有旋转关系，只有平移关系，则：$R=I$，$t=(t,0,0)$（相机平移）

则有：

$$
E=[t_{\times}]R=\begin{bmatrix}
0&0&0\\0&0&-t\\0&t&0
\end{bmatrix}
$$

通过基本矩阵我们发现：对应点总是在同一高度下。

简单立体的**匹配算法**：

对第一幅图的每个像素，在同一高度下测试扫描线上的所有像素并查找最佳匹配，之后通过三角测量获得深度信息。

## 一般立体系统

对于一般的情况，图像平面不会平行，但是我们可以使用基础矩阵来找到单应矩阵，将每个视图投影到与基线平行的公共平面上（立体校正）
